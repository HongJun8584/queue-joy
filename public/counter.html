<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Queue Joy - Counter Panel</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .card-shadow { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); transform: translateY(-2px); }
        .btn-primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .btn-success { background: linear-gradient(135deg, #10b981 0%, #059669 100%); }
        .btn-danger { background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); }
        .badge-active { background: linear-gradient(135deg, #34d399 0%, #10b981 100%); }
        .badge-inactive { background: linear-gradient(135deg, #f87171 0%, #ef4444 100%); }
        @keyframes pulse-glow { 0%, 100% { box-shadow: 0 0 0 0 rgba(102, 126, 234, 0.4); } 50% { box-shadow: 0 0 0 10px rgba(102, 126, 234, 0); } }
        .pulse-glow { animation: pulse-glow 2s infinite; }
        .modal-backdrop { background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(4px); }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .slide-up { animation: slideUp 0.3s ease-out; }
        .number-display { font-size: 2.5rem; font-weight: 700; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50">

    <!-- PIN Modal -->
    <div id="pinModal" class="fixed inset-0 modal-backdrop flex items-center justify-center z-50">
        <div class="w-full max-w-md bg-white rounded-3xl card-shadow p-8 slide-up mx-4">
            <div class="text-center mb-8">
                <div class="w-20 h-20 bg-gradient-to-br from-purple-600 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4 pulse-glow">
                    <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                    </svg>
                </div>
                <h1 class="text-2xl font-bold text-gray-800 mb-2">Counter Panel Access</h1>
                <p class="text-gray-600">Enter your PIN to continue</p>
            </div>

            <form id="pinForm" class="space-y-4">
                <div class="relative">
                    <input type="password" id="pinInput" maxlength="4"
                           class="w-full px-4 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent text-center text-2xl tracking-widest font-semibold transition-all"
                           placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="off">
                    <button type="button" id="togglePin"
                            class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                        </svg>
                    </button>
                </div>
                <div id="pinError" class="hidden text-sm text-red-600 bg-red-50 p-3 rounded-lg text-center">
                    ‚ùå Incorrect PIN. Please try again.
                </div>
                <button type="submit" id="pinSubmit"
                        class="w-full py-4 btn-primary text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all transform hover:scale-105">
                    <span id="pinBtnText">Access Counter Panel</span>
                    <div id="pinSpinner" class="hidden flex items-center justify-center">
                        <svg class="animate-spin h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                        </svg>
                        Verifying...
                    </div>
                </button>
            </form>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboard" class="hidden min-h-screen p-4 md:p-6">
        <div class="max-w-7xl mx-auto">

            <!-- Header -->
            <div class="bg-white rounded-3xl card-shadow p-6 mb-6 card-hover">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <div class="w-14 h-14 bg-gradient-to-br from-purple-600 to-indigo-600 rounded-2xl flex items-center justify-center">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                            </svg>
                        </div>
                        <div>
                            <h1 class="text-2xl font-bold text-gray-800">Counter Dashboard</h1>
                            <p class="text-gray-600" id="activeCountersText">Loading...</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3">
                        <button id="helpBtn" class="p-3 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-100 transition-all">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </button>
                        <button id="logoutBtn" class="p-3 bg-red-50 text-red-600 rounded-xl hover:bg-red-100 transition-all">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Counters Grid -->
            <div id="countersList" class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <!-- Counters will be rendered here -->
            </div>

        </div>
    </div>

    <!-- Help Modal -->
    <div id="helpModal" class="hidden fixed inset-0 modal-backdrop flex items-center justify-center z-50">
        <div class="w-full max-w-2xl bg-white rounded-3xl card-shadow p-8 mx-4 max-h-[90vh] overflow-y-auto slide-up">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-gray-800">How It Works</h3>
                <button id="closeHelp" class="p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <div class="space-y-4 text-gray-700">
                <div class="p-4 bg-purple-50 rounded-xl">
                    <h4 class="font-semibold text-purple-900 mb-2 flex items-center">
                        <span class="text-2xl mr-2">üîê</span> PIN Access
                    </h4>
                    <p>Enter PIN (0108) to securely access the counter panel.</p>
                </div>
                <div class="p-4 bg-green-50 rounded-xl">
                    <h4 class="font-semibold text-green-900 mb-2 flex items-center">
                        <span class="text-2xl mr-2">üìû</span> Call Next
                    </h4>
                    <p>Issues a new ticket number and updates "Now Serving" display for customers.</p>
                </div>
                <div class="p-4 bg-blue-50 rounded-xl">
                    <h4 class="font-semibold text-blue-900 mb-2 flex items-center">
                        <span class="text-2xl mr-2">‚è≠Ô∏è</span> Skip
                    </h4>
                    <p>Advances to the next number in queue without issuing a new ticket.</p>
                </div>
                <div class="p-4 bg-orange-50 rounded-xl">
                    <h4 class="font-semibold text-orange-900 mb-2 flex items-center">
                        <span class="text-2xl mr-2">üîÑ</span> Reset
                    </h4>
                    <p>Resets both serving and issued numbers back to 1.</p>
                </div>
                <div class="p-4 bg-indigo-50 rounded-xl">
                    <h4 class="font-semibold text-indigo-900 mb-2 flex items-center">
                        <span class="text-2xl mr-2">üîÑ</span> Real-time Sync
                    </h4>
                    <p>All changes sync instantly with customer displays via Firebase.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase & Scripts -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
        import { getDatabase, ref, set, get, onValue, update } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDiRGvkQbnLlpnJT3fEEQrY1A3nwLVIFY0",
            authDomain: "queue-joy-aa21b.firebaseapp.com",
            databaseURL: "https://queue-joy-aa21b-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "queue-joy-aa21b",
            storageBucket: "queue-joy-aa21b.appspot.com",
            messagingSenderId: "950240394209",
            appId: "1:950240394209:web:78d4f2471d2d89ac91f0a0"
        };

        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        let activeCounters = {};

        // DOM Elements
        const pinModal = document.getElementById('pinModal');
        const dashboard = document.getElementById('dashboard');
        const pinForm = document.getElementById('pinForm');
        const pinInput = document.getElementById('pinInput');
        const pinError = document.getElementById('pinError');
        const pinSubmit = document.getElementById('pinSubmit');
        const pinBtnText = document.getElementById('pinBtnText');
        const pinSpinner = document.getElementById('pinSpinner');
        const togglePin = document.getElementById('togglePin');
        const countersList = document.getElementById('countersList');
        const activeCountersText = document.getElementById('activeCountersText');
        const helpBtn = document.getElementById('helpBtn');
        const helpModal = document.getElementById('helpModal');
        const closeHelp = document.getElementById('closeHelp');
        const logoutBtn = document.getElementById('logoutBtn');

        // Check authentication
        if (sessionStorage.getItem('counterAccess') === 'true') {
            pinModal.classList.add('hidden');
            dashboard.classList.remove('hidden');
            loadCounters();
        }

        // PIN Toggle
        togglePin.addEventListener('click', () => {
            pinInput.type = pinInput.type === 'password' ? 'text' : 'password';
        });

        // PIN Form Submit
        pinForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const pin = pinInput.value;

            if (pin.length !== 4) return;

            pinSubmit.disabled = true;
            pinBtnText.classList.add('hidden');
            pinSpinner.classList.remove('hidden');
            pinError.classList.add('hidden');

            await new Promise(resolve => setTimeout(resolve, 800));

            if (pin === '0108') {
                sessionStorage.setItem('counterAccess', 'true');
                pinModal.classList.add('hidden');
                dashboard.classList.remove('hidden');
                loadCounters();
            } else {
                pinError.classList.remove('hidden');
                pinInput.value = '';
            }

            pinSubmit.disabled = false;
            pinBtnText.classList.remove('hidden');
            pinSpinner.classList.add('hidden');
        });

        // Load Counters
        async function loadCounters() {
            try {
                const countersRef = ref(database, 'settings/counters');
                const snapshot = await get(countersRef);

                if (snapshot.exists()) {
                    activeCounters = snapshot.val();
                    renderCounters();
                    setupRealtimeListeners();
                } else {
                    activeCountersText.textContent = 'No active counters';
                }
            } catch (error) {
                console.error('Error loading counters:', error);
                activeCountersText.textContent = 'Error loading counters';
            }
        }

        // Setup Realtime Listeners
        function setupRealtimeListeners() {
            const countersRef = ref(database, 'settings/counters');
            onValue(countersRef, (snapshot) => {
                if (snapshot.exists()) {
                    activeCounters = snapshot.val();
                    renderCounters();
                }
            });
        }

        // Render Counters
        function renderCounters() {
            const countersArray = Object.entries(activeCounters);
            activeCountersText.textContent = `${countersArray.length} Active Counter${countersArray.length !== 1 ? 's' : ''}`;

            countersList.innerHTML = '';

            countersArray.forEach(([counterId, counter]) => {
                const counterCard = document.createElement('div');
                counterCard.className = 'bg-white rounded-3xl card-shadow p-6 card-hover';
                counterCard.innerHTML = `
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center space-x-3">
                            <div class="w-12 h-12 bg-gradient-to-br from-purple-600 to-indigo-600 rounded-xl flex items-center justify-center">
                                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-lg font-bold text-gray-800">${counter.name}</h3>
                                <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${counter.active ? 'badge-active' : 'badge-inactive'} text-white">
                                    ${counter.active ? '‚óè Active' : '‚óè Inactive'}
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="bg-gradient-to-br from-purple-50 to-indigo-50 p-4 rounded-2xl">
                            <p class="text-sm text-gray-600 mb-1">Now Serving</p>
                            <p class="number-display">${counter.prefix}${String(counter.nowServing).padStart(3, '0')}</p>
                        </div>
                        <div class="bg-gradient-to-br from-pink-50 to-rose-50 p-4 rounded-2xl">
                            <p class="text-sm text-gray-600 mb-1">Last Issued</p>
                            <p class="text-3xl font-bold text-pink-600">${counter.prefix}${String(counter.lastNumber || counter.nowServing).padStart(3, '0')}</p>
                        </div>
                    </div>

                    <div id="feedback-${counterId}" class="hidden mb-4 p-3 rounded-xl text-sm"></div>

                    <div class="grid grid-cols-2 gap-3">
                        <button id="call-${counterId}" ${!counter.active ? 'disabled' : ''}
                                class="py-3 px-4 btn-primary text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                            </svg>
                            Call Next
                        </button>
                        <button id="skip-${counterId}" ${!counter.active ? 'disabled' : ''}
                                class="py-3 px-4 bg-gradient-to-br from-gray-100 to-gray-200 text-gray-700 rounded-xl font-semibold shadow hover:shadow-lg transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5l7 7-7 7M5 5l7 7-7 7"></path>
                            </svg>
                            Skip
                        </button>
                        <button id="reset-${counterId}" ${!counter.active ? 'disabled' : ''}
                                class="py-3 px-4 bg-gradient-to-br from-orange-100 to-orange-200 text-orange-700 rounded-xl font-semibold shadow hover:shadow-lg transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                            </svg>
                            Reset
                        </button>
                        <button id="remove-${counterId}"
                                class="py-3 px-4 btn-danger text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all transform hover:scale-105 flex items-center justify-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                            Remove
                        </button>
                    </div>
                `;

                countersList.appendChild(counterCard);

                setupCounterActions(counterId, counter);
            });
        }

        // Setup Counter Actions
        function setupCounterActions(counterId, counter) {
            const callBtn = document.getElementById(`call-${counterId}`);
            const skipBtn = document.getElementById(`skip-${counterId}`);
            const resetBtn = document.getElementById(`reset-${counterId}`);
            const removeBtn = document.getElementById(`remove-${counterId}`);

            callBtn?.addEventListener('click', () => handleCounterAction(counterId, 'call'));
            skipBtn?.addEventListener('click', () => handleCounterAction(counterId, 'skip'));
            resetBtn?.addEventListener('click', () => handleCounterAction(counterId, 'reset'));
            removeBtn?.addEventListener('click', () => handleCounterAction(counterId, 'remove'));
        }

        // Handle Counter Actions
        async function handleCounterAction(counterId, action) {
            const counter = activeCounters[counterId];
            if (!counter) return;

            if (action === 'reset' && !confirm(`Reset ${counter.name} to ${counter.prefix}001?`)) return;
            if (action === 'remove' && !confirm(`Remove ${counter.name}?`)) return;

            const actionBtn = document.getElementById(`${action}-${counterId}`);
            if (actionBtn) {
                actionBtn.disabled = true;
            }

            try {
                let updates = {};
                let message = '';

                switch (action) {
                    case 'call': {
                        const next = (counter.lastNumber || counter.nowServing) + 1;
                        updates[`settings/counters/${counterId}/lastNumber`] = next;
                        updates[`settings/counters/${counterId}/nowServing`] = next;
                        updates[`counters/${counterId}/lastIssued`] = next;
                        updates[`counters/${counterId}/nowServing`] = next;
                        message = `‚úÖ ${counter.prefix}${String(next).padStart(3, '0')} called!`;
                        break;
                    }
                    case 'skip': {
                        const lastNum = counter.lastNumber || counter.nowServing;
                        if (counter.nowServing < lastNum) {
                            const next = counter.nowServing + 1;
                            updates[`settings/counters/${counterId}/nowServing`] = next;
                            updates[`counters/${counterId}/nowServing`] = next;
                            message = `‚è≠Ô∏è Skipped to ${counter.prefix}${String(next).padStart(3, '0')}`;
                        } else {
                            const nextNum = lastNum + 1;
                            updates[`settings/counters/${counterId}/lastNumber`] = nextNum;
                            updates[`settings/counters/${counterId}/nowServing`] = nextNum;
                            updates[`counters/${counterId}/lastIssued`] = nextNum;
                            updates[`counters/${counterId}/nowServing`] = nextNum;
                            message = `‚è≠Ô∏è Skipped to ${counter.prefix}${String(nextNum).padStart(3, '0')}`;
                        }
                        break;
                    }
                    case 'reset': {
                        updates[`settings/counters/${counterId}/nowServing`] = 1;
                        updates[`settings/counters/${counterId}/lastNumber`] = 1;
                        updates[`counters/${counterId}/nowServing`] = 1;
                        updates[`counters/${counterId}/lastIssued`] = 1;
                        message = `üîÑ ${counter.name} reset to ${counter.prefix}001`;
                        break;
                    }
                    case 'remove': {
                        updates[`settings/counters/${counterId}`] = null;
                        updates[`counters/${counterId}`] = null;
                        message = `üóëÔ∏è ${counter.name} removed`;
                        break;
                    }
                }

                await update(ref(database), updates);
                showFeedback(counterId, message, 'success');

                if (action === 'remove') {
                    delete activeCounters[counterId];
                    renderCounters();
                }
            } catch (error) {
                console.error(`Error ${action}:`, error);
                showFeedback(counterId, `‚ùå Error: ${error.message}`, 'error');
            } finally {
                if (actionBtn) {
                    actionBtn.disabled = false;
                }
            }
        }

        // Show Feedback
        function showFeedback(counterId, message, type = 'success') {
            const feedback = document.getElementById(`feedback-${counterId}`);
            if (feedback) {
                feedback.className = `p-3 rounded-xl text-sm mb-4 ${type === 'success' ? 'bg-green-50 text-green-700' : 'bg-red-50 text-red-700'}`;
                feedback.textContent = message;
                feedback.classList.remove('hidden');

                setTimeout(() => {
                    feedback.classList.add('hidden');
                }, 3000);
            }
        }

        // Help Modal
        helpBtn.addEventListener('click', () => {
            helpModal.classList.remove('hidden');
        });

        closeHelp.addEventListener('click', () => {
            helpModal.classList.add('hidden');
        });

        helpModal.addEventListener('click', (e) => {
            if (e.target === helpModal) {
                helpModal.classList.add('hidden');
            }
        });

        // Logout
        logoutBtn.addEventListener('click', () => {
            if (confirm('Are you sure you want to logout?')) {
                sessionStorage.removeItem('counterAccess');
                location.reload();
            }
        });

    </script>

</body>
</html>
